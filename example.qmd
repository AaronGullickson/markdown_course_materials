---
##  Author and title information ##
title: "Example Quarto Document"
author:
  - name: Aaron Gullickson
    orcid: 0000-0001-7237-8131
    email: aarong@uoregon.edu
    url: https://aarongullickson.netlify.app/
    attributes:
      corresponding: true
    affiliations:
      - id: uo
        name: University of Oregon
        department: Sociology
        address: 727 PLC
        city: Eugene
        region: OR
        country: USA
        postal-code: 97405
  - name: Bob Secondauthor
    affiliations:
      - ref: uo
## Paper details ##
abstract: "Ipsum nostra facilisis sapien nullam. Facilisi himenaeos pharetra ultricies scelerisque non fusce quisque aliquam netus tellus. Dictum tellus et sociis quisque ornare ad a natoque magna blandit. Tortor duis aptent cursus lacus inceptos tristique magnis dictumst. Taciti varius nascetur aliquet hac ornare vitae ultricies. Rhoncus primis purus morbi aliquet quam cubilia nullam malesuada ridiculus."
keywords: 
  - Quarto
  - Examples
  - Reproducibility
description: A Quarto Document for Testing and Playing
thanks: Thanks to everyone for checking this out.
lang: en
## Execute parameters are used for default code chunk options ##
execute: 
  eval: true
  echo: false
  warning: false
  error: false
## Some figure parameters ##
fig-height: 3.5
fig-align: center        # default is center
fig-cap-location: bottom # default is bottom
## Bibliography information ##
bibliography: references.bib
csl: bib-styles/vancouver.csl
## Available formats ##
format: 
  html:
    keep-md: false
    self-contained: true
    #theme: cosmo
    #css: css/my_styles.css
    #mainfont: Chalkduster # font for text
    #monofont: JCsmPC      # font for code
    #fontsize: 1.1em
    #linestretch: 1.7
    #fontcolor: "white"
    #backgroundcolor: "grey"
    #linkcolor: "purple"
    #max-width: "1600px"
  pdf:
    fig-pos: "!t"
    keep-md: false
    keep-tex: false
    #documentclass: scrartcl # LaTeX document class
    #mainfont: Baskerville   # font for regular text
    #sansfont: Helvetica     # font for headings
    #monofont: Osaka-Mono    # font for code
    #fontsize: 12pt          # font size (typically 10pt, 11pt, or 12pt)
    #linestretch: 1          # line spacing (1 for single, 2 for double)
    #geometry: margin=0.5in  # controls the margin size
    #papersize: letter       # controls the paper type
    include-in-header: 
      text: |
        \usepackage{booktabs}
        \usepackage{dcolumn}
  docx:
    keep-md: false
    #reference-doc: sample_word_style.docx
prefer-html: true        # This ensures that html tables will render in Word
## Cross-reference customization ##
#crossref:
#  fig-title: Figure      # (default is "Figure")
#  tbl-title: Table       # (default is "Table")
#  title-delim: ":"       # (default is ":")
#  fig-prefix: Figure     # (default is "Figure")
#  tbl-prefix: Table      # (default is "Table")
#  eq-prefix: Eq.         # (default is "Equation")
#  ref-hyperlink: true    # (default is true)
#  fig-labels: arabic     # (default is arabic)
#  tbl-labels: arabic     # (default is arabic)
#  eq-labels: arabic      # (default is arabic)
#  subref-labels: alpha a # (default is alpha a)
## Which editor to use as default ##
editor: source
---

```{r}
#| label: setup
#| echo: true
library(tidyverse)
library(scales)
library(texreg)
library(gt)
library(gtmodels)
library(palmerpenguins)
load("input/popularity.RData")
```

# Introduction

Ipsum interdum enim dapibus luctus potenti viverra ridiculus vulputate! Pretium ante euismod auctor semper proin lacinia augue vitae [@abascal_love_2015; @gentzkow_code_2014]. Magnis vivamus dis dapibus dapibus tristique vestibulum venenatis accumsan lobortis suscipit faucibus. Dis **scelerisque** egestas sodales tempor nisl accumsan conubia sem mauris mi himenaeos. Facilisis curabitur habitant quam malesuada facilisis inceptos phasellus rutrum vulputate etiam primis . Na primis?

Consectetur *sodales* suscipit ultrices venenatis sagittis hendrerit lacus. Imperdiet nunc rhoncus ornare pharetra platea ut blandit nec senectus montes quisque purus . Phasellus rutrum rutrum aliquet rutrum erat scelerisque non augue vulputate suspendisse lacinia commodo aptent vel [@alexander_modelling_2005; @bratter_poverty_2013; @bratter_multiracial_2013]. Mattis suscipit himenaeos rhoncus integer fames aliquam [@López-Otín2023].

1.  Sit pharetra ut lacus tortor sodales convallis?
2.  Molestie egestas fermentum aliquam convallis fames dictum?
3.  Consectetur vehicula habitant porttitor volutpat velit augue eleifend rutrum accumsan quam pretium pretium?

Consectetur ullamcorper pharetra mattis leo himenaeos magnis non est non sagittis.[^1] Nec rutrum aptent sapien convallis <!--TODO: Check this--> euismod taciti felis interdum torquent suspendisse. Ultrices auctor hac ad arcu urna leo integer. Torquent turpis accumsan suscipit cum laoreet blandit ante molestie netus a. Sociosqu placerat purus mollis senectus blandit magna quis pharetra sodales. Platea dui felis porttitor leo enim aenean interdum mauris libero primis volutpat vulputate. Ultrices ullamcorper magna consequat vehicula leo massa at erat sapien arcu scelerisque.[^2]

[^1]: This is a footnote.

[^2]: This is another footnote.

    This one has math. $$\sum (x_i-\bar{x})^2$$

# Background

Ipsum scelerisque id tellus luctus malesuada eget aptent nullam. Urna nec ad habitant sollicitudin dui porttitor tortor nisl augue [@seibold_computational_2021]. @mcfadden_conditional_1973 Class quam at metus mattis condimentum lacus gravida hendrerit. Tincidunt nullam laoreet facilisis dui bibendum faucibus urna.[^3]

[^3]: I put my foot in the note!

Adipiscing habitasse integer sed fusce phasellus morbi libero mauris scelerisque fusce! Phasellus proin sem potenti torquent potenti ultrices orci bibendum morbi. Venenatis in vitae platea ligula orci dictumst pulvinar eleifend id ligula? Nisi vel mus tellus porttitor justo class cras orci est. Iaculis pretium tristique euismod facilisis vestibulum luctus lobortis quam tellus quis cum facilisis. Curabitur est parturient habitant proin elementum nascetur.

## Subsection 1

Amet ridiculus magna ut pulvinar viverra himenaeos dignissim malesuada elementum montes. Luctus libero torquent praesent eleifend pretium convallis dictumst dictum! Porta erat senectus class pellentesque lobortis curabitur non pulvinar varius nibh lobortis fermentum sem? Volutpat id curabitur mattis egestas netus habitasse purus aliquam montes. Pellentesque pellentesque placerat integer varius sagittis curabitur laoreet nunc maecenas ullamcorper [see @lieberson_many_1988].

Amet rutrum a venenatis mi lectus venenatis nullam purus libero. Pulvinar dapibus nisl dapibus ornare dignissim nibh congue elementum pharetra natoque cum ac laoreet tortor facilisi penatibus sollicitudin.

## Subsection 2

Adipiscing ad rhoncus nunc molestie sed feugiat? Imperdiet vivamus montes himenaeos sagittis urna nec felis vehicula nec pretium tortor? Molestie natoque sociis aenean mollis donec ornare cursus parturient tortor erat. Volutpat mi natoque sodales et hac ultricies eu pulvinar primis semper. Vitae est curabitur blandit montes tortor eros senectus porttitor maecenas.

Sit nunc lacus sapien augue ornare magnis massa odio velit maecenas mauris. Molestie justo proin venenatis hac congue facilisi suscipit arcu litora quam varius urna. Lacinia montes convallis ante sapien orci platea rutrum. Gravida dignissim mauris bibendum sollicitudin libero primis ultrices enim aliquam dictum! Vivamus sociis odio non vivamus ridiculus. Libero vitae cursus montes aptent est quisque sociosqu fringilla posuere lacinia sagittis. Quisque orci cum nulla sollicitudin duis nisi.

Ipsum fringilla natoque sem praesent auctor tellus viverra convallis nullam quis risus. Mus natoque cras facilisi ac blandit maecenas fringilla natoque varius. Aptent mauris ac nunc dis habitant penatibus torquent dictumst platea class sociis. Sodales mattis augue libero vestibulum interdum condimentum arcu ridiculus massa lobortis. Orci pretium dictumst sociosqu fringilla praesent faucibus tempus ultrices natoque. Risus potenti class nascetur molestie augue a justo vehicula vivamus? Molestie natoque lectus rhoncus sociosqu ligula semper mattis urna mi quis dignissim?

# Data and Methods

Adipiscing pretium duis penatibus habitasse nisi metus parturient convallis mattis. Porta pharetra rhoncus dis massa nulla ornare egestas! Ante leo cursus mauris eleifend potenti donec tempus. Fusce ultricies aptent accumsan himenaeos netus augue felis nibh. Duis commodo himenaeos aliquam integer! See @tbl-desc-gt.

```{r}
#| label: tbl-desc-gt
#| tbl-cap: Sample size and descriptive statistics, Add Health data, Wave 1
popularity %>%
  group_by(grade) |>
  summarize(n=n(), m_nom=mean(indegree),  p_drink=mean(alcoholuse=="Drinker"),
            p_smoke=mean(smoker=="Smoker")) |>
  gt() |>
  cols_label(grade = "Grade", n = "N", m_nom = "Mean friend nominations",
             p_drink = "Drinks regularly", p_smoke = "Smokes regularly") |>
  fmt_integer(grade, pattern = "{x}th") |>
  fmt_number(m_nom, decimals = 2) |>
  fmt_percent(c(p_drink, p_smoke), decimals=1) |>
  tab_spanner(label = "Substance use", columns = c(p_drink, p_smoke)) |>
  tab_options(table.width = "100%") |>
  tab_source_note(md("*Source*: [National](https://www.google.com) Survey of Adolescent to Adult Health, Wave 1")) |>
  tab_footnote(footnote = "This value could be wrong.", 
               locations = cells_body(columns=m_nom, rows=c(1,4)), 
               placement = "right") |>
  tab_footnote(footnote = "Drinking at least once or twice a month for the previous 12 months.",
               locations = cells_column_labels(columns = p_drink)) |>
  tab_footnote(footnote = "Smoking at least 5 cigarettes in the last 30 days.",
               locations = cells_column_labels(columns = p_smoke)) |>
  tab_options(footnotes.marks = c("*","@","!"))
  
```

Lorem lobortis lectus pellentesque sapien vivamus eros felis cum. Mattis risus euismod vivamus vel mi nostra euismod euismod praesent aliquam? @tbl-desc-gt Sagittis posuere bibendum turpis arcu maecenas gravida leo sollicitudin primis. Ullamcorper lacinia laoreet tincidunt mollis torquent semper. Sem nascetur eleifend gravida nostra magnis arcu gravida facilisis sollicitudin? Cum curae placerat et auctor faucibus arcu ad mauris sollicitudin nunc! Posuere iaculis arcu dapibus dis ullamcorper pellentesque penatibus ultrices sed aenean ligula ullamcorper donec aliquam.

$$y_i=\beta_0+\beta_1x_i+\epsilon_i$$ {#eq-model}

@eq-model lit nam mus class aliquam volutpat purus mauris ultricies aptent dignissim ($\beta_1=0$). Iaculis pulvinar at inceptos sociosqu blandit tristique ridiculus et sagittis mus justo. Suspendisse commodo nullam risus molestie pulvinar elementum malesuada consequat non velit augue. Vehicula id purus vulputate metus dis lectus magna purus nullam scelerisque interdum. Montes quis sem convallis vehicula orci habitasse metus nullam imperdiet faucibus dignissim! Na dignissim. See @fig-dist.

```{r}
#| label: fig-dist
#| fig-height: 7
#| fig-pos: p
#| layout-ncol: 2
#| fig-cap: "Distribution of key variables in Add Health data"
#| fig-subcap: 
#|   - Number of friend nominations
#|   - Parental income
#|   - GPA
#|   - Race
popularity %>%
  ggplot(aes(x=indegree))+
  geom_histogram(binwidth = 1, center=0.5, 
                 color="grey30", fill="grey60")+
  labs(x="number of friend nominations received")+
  theme_bw()

popularity %>%
  ggplot(aes(x=parentinc))+
  geom_histogram(binwidth = 10,
                 color="grey30", fill="grey60")+
  labs(x="Parental income in 1000 USD")+
  theme_bw()

popularity %>%
  ggplot(aes(x=pseudoGPA))+
  geom_histogram(binwidth = 0.25,
                 color="grey30", fill="grey60")+
  labs(x="GPA in four core courses")+
  theme_bw()

popularity %>%
  ggplot(aes(x=race, y=after_stat(prop), group=1))+
  geom_bar()+
  scale_y_continuous(labels=scales::percent)+
  coord_flip()+
  labs(x=NULL, y=NULL)+
  theme_bw()
```

@fig-dist onsectetur magnis nisi porttitor massa vivamus iaculis vulputate suscipit vehicula ante nisl? Tempor porttitor netus aliquet inceptos etiam ornare etiam. Suscipit nascetur lacus magna tempus luctus eu. Nisl vitae himenaeos nullam lacinia aenean potenti sociis volutpat feugiat dignissim pellentesque!

# Results

Elit imperdiet aenean varius conubia sagittis orci ultrices. Ridiculus conubia accumsan aliquam mi penatibus molestie fringilla proin. Ullamcorper blandit libero sapien etiam cum justo vel habitant nostra? Molestie tincidunt lobortis dis accumsan curae mi maecenas aptent bibendum eget lacus ad torquent lobortis mattis sagittis aliquam!

![A Sloth!](example-presentation/images/sloth1.png){#fig-sloth}

Lorem accumsan pharetra est cubilia placerat cubilia est fusce natoque laoreet rutrum porta pellentesque tempus! Inceptos arcu augue phasellus nunc ad aptent sem pulvinar maecenas. Tempor porttitor velit fermentum ornare convallis consequat proin mauris. Magna tortor non integer proin semper ad malesuada cras orci.

Lorem accumsan pharetra est cubilia placerat cubilia est fusce natoque laoreet rutrum porta pellentesque tempus! Inceptos arcu augue phasellus nunc ad aptent sem pulvinar maecenas. Tempor porttitor velit fermentum ornare convallis consequat proin mauris. Magna tortor non integer proin semper ad malesuada cras orci. See @fig-scatter.

```{r}
#| label: fig-scatter
#| fig-cap: "Association between parental income and friend nominations by gender."
popularity %>%
  ggplot(aes(x=parentinc, y=indegree, color=sex))+
  geom_jitter(alpha=0.3)+
  geom_smooth(se=FALSE)+
  labs(x="parental income in 1000 USD",
       y="number of friend nominations received",
       color="gender")+
  theme_bw()
```

@fig-scatter Consectetur consequat aptent habitasse dignissim magna feugiat consequat nisl praesent nunc cras tellus? Suscipit curae quis lacus hac rutrum primis sem sem magnis pharetra leo odio parturient libero odio. Mattis praesent maecenas penatibus dapibus hendrerit venenatis libero tellus nascetur. Dis maecenas cursus aptent purus.

Amet quis rutrum sem senectus porttitor torquent habitasse quis commodo ut. Varius at facilisi hendrerit suscipit lacinia enim dui pharetra. Condimentum cum molestie class rutrum porttitor ultricies cursus cum nec nam potenti donec vel! Iaculis dictum ad?

Sit suscipit conubia nisi integer vel suscipit torquent taciti. Urna eu phasellus urna nullam varius nascetur ultricies fringilla. Vivamus platea auctor curabitur senectus natoque morbi dignissim proin pulvinar netus?

Elit semper laoreet tristique etiam egestas arcu ut. Lacus condimentum diam facilisis quam tellus magnis sollicitudin a suspendisse penatibus convallis tellus felis urna. Montes pulvinar ultrices himenaeos interdum nostra imperdiet per mauris luctus. Integer cubilia vestibulum vestibulum parturient cubilia morbi orci dictumst morbi sodales faucibus. Maecenas magnis et nulla nulla.

Lorem nullam nunc habitasse blandit eleifend est mauris. Lacus class mauris interdum netus quisque volutpat. Aliquet at cum lobortis odio dapibus nunc porttitor ullamcorper? Suscipit nostra mi vulputate etiam purus tristique posuere augue orci sociis lectus justo a condimentum nascetur nibh.

```{r}
#| label: tbl-penguins
#| tbl-cap: A grouped `gt` table with summary statistics
palmerpenguins::penguins[c(1,200,205,307),] |> 
  select(species, island, body_mass_g, bill_length_mm, sex) |>
  group_by(sex) |>
  gt() |>
  #tab_options(table.width="100%") |>
  cols_label(species="Species", island="Island", body_mass_g="Body mass (g)", bill_length_mm="Bill length (mm)") |>
  summary_rows(columns=c(body_mass_g, bill_length_mm), 
               fns = list(mean = ~mean(.), sd = ~sd(.), mimimum = ~min(.),
                          maximum = ~max(.)),
               fmt = ~ fmt_number(., decimals=1))
```

Elit varius diam quam magnis suscipit leo aptent congue? Proin placerat ultrices interdum mollis platea integer ac pharetra vulputate lacinia. Viverra nostra bibendum lacus lobortis varius condimentum eleifend faucibus odio justo montes sagittis? Eget imperdiet class tellus tincidunt dictumst sem ridiculus quam? Eget rutrum fames ridiculus eget pretium neque libero per! Eget dignissim magna nunc nulla dis orci interdum tellus tortor risus ut Table 2.

```{r}
#| label: model-results
#| results: asis
model1 <- lm(indegree~smoker+alcoholuse, data=popularity)
model2 <- update(model1, .~.+parentinc+sex+race)
model3 <- update(model2, .~.+pseudoGPA+honorsociety)
texreg(list(model1, model2, model3),
          caption.above=TRUE,
          caption = "Linear models predicting the number of friend nominations recieved, Add Health data",
          custom.coef.names = c("Intercept", "Smokes regularly",
                                "Drinks regularly", "Parental income (1000 USD)",
                                "Male", "Black","Latino",
                                "Asian/Pacific Islander","Other",
                                "American Indian", "GPA in four core courses",
                                "Honor society member"),
          digits = 3,
          dcolumn=TRUE,
          use.packages=FALSE,
          include.adjrs=FALSE,
          custom.model.names = c("(1)", "(2)", "(3)"),
          groups=list("Race (ref. white)"=6:10),
          omit.coef = "honorsociety|sex",
          custom.note="%stars. Standard errors in parenthesis.",
        file="models.doc")
```

```{r}
#| label: tbl-models
#| tbl-cap: Linear models predicting the number of friend nominations recieved, Add Health data
name_corr <- c("(Intercept)"="Intercept",
               "smokerSmoker" = "Smokes regularly",
               "alcoholuseDrinker" = "Drinks regularly",
               "parentinc" = "Parental income in 1000 USD",
               "race Black/African American" = "Black",
               "raceLatino" = "Latino",
               "race Asian/Pacific Islander" = "Asian/Pacific Islander",
               "race Other" = "Other",
               "race American Indian/Native American" = "American Indian",
               "pseudoGPA" = "GPA in four core courses",
               "honorsocietyTRUE" = "Honor society member",
               "sex Male"="Male",
               "n" = "N",
               "adj_rsquared" = "Adj. R-squared",
               "rsquared" = "R-squared",
               "sex" = "Gender (ref. female)",
               "race" = "Race (ref. white)")
gt_model(list(model1, model2, model3), 
         var_labels = name_corr,
         summary_stats = c("adj_rsquared","rsquared"),
         beside = FALSE,
         parenthetical_value = "se") |>
  cols_label(model1="(1)", model2="(2)", model3="(3)")
```

Results olor convallis vulputate dictum mollis ante placerat dui parturient porttitor conubia vitae. Eros nec dignissim tortor nascetur laoreet mi nascetur interdum lacus donec? Non potenti elementum massa hendrerit odio taciti euismod sagittis rhoncus sodales montes mattis? Sociosqu luctus neque euismod elementum accumsan parturient sed morbi scelerisque sociis quis faucibus primis suscipit scelerisque.

Sit aenean sociosqu curae magna natoque sociis pulvinar sagittis et congue. Sodales magna montes potenti tristique quis? Id suscipit lobortis suspendisse felis taciti massa vitae convallis in montes. Mauris sodales parturient mus tellus mollis dapibus felis vel? Dui malesuada nibh dui ut torquent taciti sodales tempor dapibus vitae montes?

Amet habitasse semper egestas ultricies libero fames orci primis mus sapien fringilla. Pretium tellus convallis bibendum aliquet rutrum potenti! Fringilla et et enim! Lorem molestie lacinia elementum nostra sem et dui condimentum nisl porttitor suspendisse. Felis enim semper nec semper odio.

# Conclusions

Sit praesent nascetur torquent risus interdum erat massa consequat rhoncus. Dignissim arcu augue fermentum odio mattis dictumst turpis nostra vel. Vestibulum velit velit ut dapibus tempus platea nisl ornare justo nascetur proin eleifend nunc. Iaculis interdum quisque platea posuere vitae.

Lorem suscipit pulvinar ultrices netus in porta diam ad habitant. Scelerisque id elementum condimentum scelerisque montes ut id? Dictumst ligula ut ac magnis pretium convallis condimentum et pellentesque taciti montes dignissim vitae.

Consectetur blandit class scelerisque placerat et sapien. Aptent ornare orci commodo leo semper vitae facilisis augue vitae lectus auctor lacus. Bibendum netus porttitor platea taciti enim tincidunt enim vel lectus suspendisse scelerisque.

Consectetur torquent justo cubilia luctus justo erat dignissim faucibus aliquet dictumst. Gravida metus morbi tristique pharetra at venenatis pretium dapibus porttitor commodo. Pulvinar tempus platea accumsan aliquam inceptos magna praesent pulvinar curae sollicitudin. Justo tincidunt imperdiet potenti quam malesuada fames dis et dignissim.

# References

::: {#refs}
:::
